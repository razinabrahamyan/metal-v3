(()=>{var e;function t(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function n(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var o,a,r=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(o=n.next()).done)&&(r.push(o.value),!t||r.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return r}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}window.footerHander=new Vue({el:"#footer",data:{map:void 0,placemark:void 0,points:null!==(e=addresses)&&void 0!==e?e:null,yaMapsShown:!1,calc_quiz_category:10,weight:1e3},watch:{calc_quiz_category:function(){$('[name="met_type_2"]').val($("[name=met_type_2] option:first").val())},weight:function(){this.calc()}},methods:{initMap:function(){var e=this;this.map=new ymaps.Map("ymap",{center:[55.76,37.64],zoom:9,controls:[]},{searchControlProvider:"yandex#search",suppressMapOpenBlock:!0,suppressObsoleteBrowserNotifier:!0}),this.map.controls.add(new ymaps.control.FullscreenControl),this.map.controls.add(new ymaps.control.ZoomControl({options:{size:"small"}})),null!==this.points&&Object.entries(this.points).forEach((function(t){var o=n(t,2),a=(o[0],o[1]);e.map.geoObjects.add(new ymaps.Placemark([a.lat,a.lng],{balloonContent:a.address}))}))},moveToMapPoint:function(e,t){this.map.setCenter([e,t],15)},mountMap:function(){var e=$("#ymap")[0].getBoundingClientRect();if(e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)){var t=document.createElement("script");t.type="text/javascript",t.src="https://api-maps.yandex.ru/2.1/?load=package.standard,package.geoObjects&lang=ru_RU&amp;apikey=8c1ddd83-7c9c-4d9e-a532-9c67ea915ff8&onload=window.footerHander.initMap",document.getElementsByTagName("body")[0].appendChild(t),this.yaMapsShown=!0}},calc:function(){$(".calculator_block").length>0&&setTimeout((function(){var e=void 0!==$('[name="met_type_2"]').val()?1*$('[name="met_type_2"]').val().replace(/ /g,""):0;[7,8,9,10].includes(window.footerHander.calc_quiz_category)?$("#totalPrice").text(e*(window.footerHander.weight/1e3)):$("#totalPrice").text(e*window.footerHander.weight)}),25)},seo:function(){$(".breadcrumb").attr("itemscope","").attr("itemtype","https://schema.org/BreadcrumbList"),$(".breadcrumb li").attr("itemscope","").attr("itemprop","itemListElement").attr("itemtype","https://schema.org/ListItem");var e=1;$('.breadcrumb li:not(".active") a').attr("itemprop","item").each((function(){$(this).append('<meta itemprop="position" content="'+e+'">'),$(this).append('<meta itemprop="name" content="'+$(this).text()+'">'),e++})),$(".breadcrumb li.active").each((function(){$(this).append('<meta itemprop="position" content="'+e+'">'),$(this).append('<meta itemprop="name" content="'+$(this).text()+'">'),e++}))},scb:function(){document.addEventListener("SCBWidgetOpen",(function(e){$("#scb_block,.scb_back-wrapper,#scb_button_wait,#scb_phone_input,.scb_checkbox_border").attr("style","border-radius: 0.42rem !important;"),$("body").addClass("overflow-hidden")})),document.addEventListener("SCBWidgetClose",(function(e){$("body").removeClass("overflow-hidden")})),$("#scb_udobnoe_block").ready((function(){setTimeout((function(){"undefined"!=typeof dat&&$("#scb_udobnoe_block").remove()}),1e3),setTimeout((function(){"undefined"!=typeof dat&&$("#scb_udobnoe_block").remove()}),2e3)})),$(".lmk_scb_open_call").click((function(){"undefined"!=typeof SCBopen?SCBopen(1,"callback"):console.log("SCB не доступен")}))},addMask:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",o=document.querySelectorAll(e);function a(e){var t=e.keyCode,o=n,a=o.replace(/\D/g,""),r=this.value.replace(/\D/g,""),i=0,c=o.replace(/[_\d]/g,(function(e){return i<r.length?r.charAt(i++)||a.charAt(i):e}));-1!==(i=c.indexOf("_"))&&(c=c.slice(0,i));var s=o.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(s=new RegExp("^"+s+"$")).test(this.value)||this.value.length<5||t>47&&t<58)&&(this.value=c),"blur"===e.type&&this.value.length<5&&(this.value="")}var r,i=t(o);try{for(i.s();!(r=i.n()).done;){var c=r.value;c.addEventListener("input",a),c.addEventListener("focus",a),c.addEventListener("blur",a)}}catch(e){i.e(e)}finally{i.f()}}},mounted:function(){$("#ymap").is(":visible")&&(this.mountMap(),$(window).scroll((function(){window.footerHander.yaMapsShown||window.footerHander.mountMap()}))),this.addMask("#wizard7 input[name=phone]"),this.addMask(".widget-contact-form input[name=phone]"),this.calc(),this.seo(),this.scb()}}),new Vue({el:".wizard_form_products",data:{quiz_category:10}}),window.contactForm=new Vue({el:".widget-contact-form",data:{formData:void 0,formSent:!1},methods:{sendForm:function(e){if(e.preventDefault(),"1"!==Cookies.get("FORM_HAS_SENDED")){var t={headers:{Accept:"application/json","X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}},n=new FormData(e.target);n.append("page",$("h1").text()),axios.post("/axios/send-form",n,t).then((function(e){if(200!==e.status)INSPIRO.elements.notification("Ошибка уже оформлена","Попробуйте через 3 минуты","danger");else{var t=new Date;t.setTime(t.getTime()+18e4),expires="; expires="+t.toUTCString(),document.cookie="FORM_HAS_SENDED=1"+expires+"; path=/",INSPIRO.elements.notification("Заявка оформлена!","Наши консультанты свяжутся с вами в ближайшее время.","success")}})).catch((function(e){INSPIRO.elements.notification("Упс!","Что то пошло не так...","danger"),console.log(e)}))}else INSPIRO.elements.notification("Ошибка уже оформлена","Попробуйте через 3 минуты","danger")}}})})();